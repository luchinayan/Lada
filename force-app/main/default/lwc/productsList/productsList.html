<template>
  <ul class="car-list">
    <template for:each={cars} for:item="car">
      <li key={car.Id} class="car-item">
        <lightning-card title={car.Name}>
          <div class="card-container">
            <div class="card-image-container">
              <img src={car.Img_Url__c} alt="car" />
            </div>
            <div class="card-button-container">
              <lightning-button
                data-car-id={car.Id}
                label={label.showDetails}
                onclick={handleOpenCarModal}
                class="slds-m-horizontal_x-small"
              ></lightning-button>
              <lightning-button
                label={label.submitApplicationLabel}
                onclick={handleOpenBuyCarModal}
                class="slds-m-horizontal_x-small"
              ></lightning-button>
            </div>
          </div>
        </lightning-card>
      </li>
    </template>
  </ul>

  <c-buy-car-modal
    is-modal-open={isBuyCarModalOpen}
    onclose={handleCloseBuyCarModal}
  ></c-buy-car-modal>

  <c-car-modal
    is-modal-open={isCarModalOpen}
    selected-car={selectedCar}
    onclose={handleCloseCarModal}
    price-b-y-n={priceBYN}
    price-u-s-d={priceUSD}
  ></c-car-modal>
</template>
